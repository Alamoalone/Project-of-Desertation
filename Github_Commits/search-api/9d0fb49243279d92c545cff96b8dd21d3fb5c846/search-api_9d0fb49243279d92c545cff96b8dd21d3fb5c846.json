{
    "sha": "9d0fb49243279d92c545cff96b8dd21d3fb5c846",
    "node_id": "C_kwDOCJfnitoAKDlkMGZiNDkyNDMyNzlkOTJjNTQ1Y2ZmOTZiOGRkMjFkM2ZiNWM4NDY",
    "commit": {
        "author": {
            "name": "Chijioke Ibekwe",
            "email": "chijioke.ibekwe@sabiroad.com",
            "date": "2023-04-05T16:22:28Z"
        },
        "committer": {
            "name": "Chijioke Ibekwe",
            "email": "chijioke.ibekwe@sabiroad.com",
            "date": "2023-04-05T16:22:28Z"
        },
        "message": "#24 fix null pointer exception when search parameter is not provided",
        "tree": {
            "sha": "4278bb2420c8c3d6f97fb9fd1277db3ab876229a",
            "url": "https://api.github.com/repos/magrifle/search-api/git/trees/4278bb2420c8c3d6f97fb9fd1277db3ab876229a"
        },
        "url": "https://api.github.com/repos/magrifle/search-api/git/commits/9d0fb49243279d92c545cff96b8dd21d3fb5c846",
        "comment_count": 0,
        "verification": {
            "verified": false,
            "reason": "unsigned",
            "signature": null,
            "payload": null
        }
    },
    "url": "https://api.github.com/repos/magrifle/search-api/commits/9d0fb49243279d92c545cff96b8dd21d3fb5c846",
    "html_url": "https://github.com/magrifle/search-api/commit/9d0fb49243279d92c545cff96b8dd21d3fb5c846",
    "comments_url": "https://api.github.com/repos/magrifle/search-api/commits/9d0fb49243279d92c545cff96b8dd21d3fb5c846/comments",
    "author": {
        "login": "chijioke-ibekwe",
        "id": 70472977,
        "node_id": "MDQ6VXNlcjcwNDcyOTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/70472977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chijioke-ibekwe",
        "html_url": "https://github.com/chijioke-ibekwe",
        "followers_url": "https://api.github.com/users/chijioke-ibekwe/followers",
        "following_url": "https://api.github.com/users/chijioke-ibekwe/following{/other_user}",
        "gists_url": "https://api.github.com/users/chijioke-ibekwe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chijioke-ibekwe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chijioke-ibekwe/subscriptions",
        "organizations_url": "https://api.github.com/users/chijioke-ibekwe/orgs",
        "repos_url": "https://api.github.com/users/chijioke-ibekwe/repos",
        "events_url": "https://api.github.com/users/chijioke-ibekwe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chijioke-ibekwe/received_events",
        "type": "User",
        "site_admin": false
    },
    "committer": {
        "login": "chijioke-ibekwe",
        "id": 70472977,
        "node_id": "MDQ6VXNlcjcwNDcyOTc3",
        "avatar_url": "https://avatars.githubusercontent.com/u/70472977?v=4",
        "gravatar_id": "",
        "url": "https://api.github.com/users/chijioke-ibekwe",
        "html_url": "https://github.com/chijioke-ibekwe",
        "followers_url": "https://api.github.com/users/chijioke-ibekwe/followers",
        "following_url": "https://api.github.com/users/chijioke-ibekwe/following{/other_user}",
        "gists_url": "https://api.github.com/users/chijioke-ibekwe/gists{/gist_id}",
        "starred_url": "https://api.github.com/users/chijioke-ibekwe/starred{/owner}{/repo}",
        "subscriptions_url": "https://api.github.com/users/chijioke-ibekwe/subscriptions",
        "organizations_url": "https://api.github.com/users/chijioke-ibekwe/orgs",
        "repos_url": "https://api.github.com/users/chijioke-ibekwe/repos",
        "events_url": "https://api.github.com/users/chijioke-ibekwe/events{/privacy}",
        "received_events_url": "https://api.github.com/users/chijioke-ibekwe/received_events",
        "type": "User",
        "site_admin": false
    },
    "parents": [
        {
            "sha": "3df6d906dc9e07b2d2c9efc51c70188e9058b51a",
            "url": "https://api.github.com/repos/magrifle/search-api/commits/3df6d906dc9e07b2d2c9efc51c70188e9058b51a",
            "html_url": "https://github.com/magrifle/search-api/commit/3df6d906dc9e07b2d2c9efc51c70188e9058b51a"
        }
    ],
    "stats": {
        "total": 15,
        "additions": 14,
        "deletions": 1
    },
    "files": [
        {
            "sha": "4d3c7f997a539a13d2d3d7b0c553dd53bdb673bf",
            "filename": "src/main/java/com/github/magrifle/data/searchapi/aspect/DataSearchApi.java",
            "status": "modified",
            "additions": 3,
            "deletions": 1,
            "changes": 4,
            "blob_url": "https://github.com/magrifle/search-api/blob/9d0fb49243279d92c545cff96b8dd21d3fb5c846/src%2Fmain%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2Faspect%2FDataSearchApi.java",
            "raw_url": "https://github.com/magrifle/search-api/raw/9d0fb49243279d92c545cff96b8dd21d3fb5c846/src%2Fmain%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2Faspect%2FDataSearchApi.java",
            "contents_url": "https://api.github.com/repos/magrifle/search-api/contents/src%2Fmain%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2Faspect%2FDataSearchApi.java?ref=9d0fb49243279d92c545cff96b8dd21d3fb5c846",
            "patch": "@@ -30,6 +30,7 @@\n import java.net.URLDecoder;\n import java.util.List;\n import java.util.Map;\n+import java.util.Objects;\n import java.util.regex.Matcher;\n import java.util.regex.Pattern;\n import java.util.stream.IntStream;\n@@ -66,7 +67,8 @@ private void allPublicControllerMethodsPointcut() {\n     @Around(\"allPublicControllerMethodsPointcut() && methodsWithSearchApi(searchApi)\")\n     private Object buildSpecificationForMethod(ProceedingJoinPoint joinPoint, SearchApi searchApi) throws Throwable {\n         HttpServletRequest request = ((ServletRequestAttributes) RequestContextHolder.currentRequestAttributes()).getRequest();\n-        String queryParameter = URLDecoder.decode(request.getParameter(searchApi.queryString()), \"UTF-8\");\n+        String queryParameter = request.getParameter(searchApi.queryString()) != null ?\n+                URLDecoder.decode(request.getParameter(searchApi.queryString()), \"UTF-8\") : request.getParameter(searchApi.queryString());\n         if ((queryParameter == null || queryParameter.isEmpty()) && searchApi.failOnMissingQueryString()) {\n             throw new SearchKeyValidationException(\"The required query parameter \\\"\" + searchApi.queryString() + \"\\\" is missing\");\n         }"
        },
        {
            "sha": "6f72f7cd06fddbc4cb321d00ab8007ebe658a9ca",
            "filename": "src/test/java/com/github/magrifle/data/searchapi/SearchApiIntegrationTest.java",
            "status": "modified",
            "additions": 11,
            "deletions": 0,
            "changes": 11,
            "blob_url": "https://github.com/magrifle/search-api/blob/9d0fb49243279d92c545cff96b8dd21d3fb5c846/src%2Ftest%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2FSearchApiIntegrationTest.java",
            "raw_url": "https://github.com/magrifle/search-api/raw/9d0fb49243279d92c545cff96b8dd21d3fb5c846/src%2Ftest%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2FSearchApiIntegrationTest.java",
            "contents_url": "https://api.github.com/repos/magrifle/search-api/contents/src%2Ftest%2Fjava%2Fcom%2Fgithub%2Fmagrifle%2Fdata%2Fsearchapi%2FSearchApiIntegrationTest.java?ref=9d0fb49243279d92c545cff96b8dd21d3fb5c846",
            "patch": "@@ -222,6 +222,17 @@ public void searchApi_whenSearchValueContainsSpaces_thenReturnData() throws Exce\n                 .andExpect(jsonPath(\"$[0].age\", is(12)));\n     }\n \n+    @Test\n+    public void searchApi_whenNoSearchParameter_thenReturnAllData() throws Exception\n+    {\n+        // GIVEN / THEN / WHEN\n+        mvc.perform(get(\"/search\"))\n+                .andDo(print())\n+                .andExpect(status().isOk())\n+                .andExpect(content().contentType(MediaType.APPLICATION_JSON))\n+                .andExpect(jsonPath(\"$\", hasSize(4)));\n+    }\n+\n     @Test\n     public void searchApi_whenSearchValueContainsAtSymbolAndDot_thenReturnData() throws Exception\n     {"
        }
    ]
}